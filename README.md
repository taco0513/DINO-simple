# 🌍 DINO - Digital Nomad Visa Tracker

디지털 노마드를 위한 비자 추적 애플리케이션입니다. 여러 나라의 비자 사용 현황을 실시간으로 추적하고 관리할 수 있습니다.

**🌐 Live Service**: [dinoapp.net](https://dinoapp.net)

## 🚀 주요 기능

### 핵심 기능
- **🔐 사용자 인증**: Supabase 인증을 통한 안전한 로그인/회원가입
- **📊 비자 상태 추적**: 각 국가별 비자 사용일수와 남은 기간 실시간 확인
- **✈️ 체류 기록 관리**: 입/출국 기록 자동 관리 및 오버랩 해결
- **🗺 여행 경로 추적**: 출발지와 도착지 정보를 포함한 상세한 여행 기록
- **📱 모바일 반응형**: 모든 디바이스에서 최적화된 사용자 경험
- **☁️ 클라우드 동기화**: 데이터가 클라우드에 안전하게 저장되어 어디서든 접근 가능

### 🎯 최신 업데이트 (2025.08.15)
- **✈️ 공항 코드 자동 인식**: IATA 코드 입력시 도시명 자동 표시
  - 300개 이상의 주요 국제공항 데이터베이스
  - 공항 코드 입력시 도시명 자동 표시 (예: ICN → Seoul)
  - 공항 코드 인식시 국가 자동 선택
  - 인식된 공항 정보 시각적 표시
  - 출발지와 도착지 모두 지원

- **🌏 완전한 국가 데이터베이스**: 195개 모든 국가 추가 완료
  - 미국 여권 기준 비자 정보 포함
  - 비자 유형별 분류 (무비자, e-비자, 도착비자, ETA)
  - 최대 체류 기간 및 비자 규칙 정보
  - 공식 정보 출처 링크 제공

- **🎯 스마트 비자 카드 필터링**: 관련성 높은 비자 정보만 표시
  - 1년 이상 방문하지 않은 국가 자동 숨김
  - 리셋 타입 비자: 출국 7일 후 자동 숨김
  - 롤링 윈도우 비자: 기간 내 항상 표시
  - 현재 체류 중인 국가 항상 표시

- **🗺️ 여행 지도 개발 중**: 임시 비활성화
  - 세계 지도 기반 여행 기록 시각화
  - 국가별 방문 현황 표시
  - 안정화 후 재활성화 예정

### 🚀 베타 런칭 신규 기능 (2025.08.14)
- **💬 베타 피드백 시스템**: 사용자 피드백 수집 시스템
  - 스크린샷 첨부 지원 (PNG, JPG, 최대 5MB)
  - 4가지 피드백 유형: 일반, 버그, 기능, UI/UX
  - 실시간 문자수 검증 (최소 10자)
  - 자동 이메일 전송 시스템

- **🛡️ 프로덕션 보안 시스템**: 기업급 보안 구현
  - Row Level Security (RLS) 정책 적용
  - API 속도 제한 (분당 10회)
  - 입력 검증 및 살균 처리
  - SQL 인젝션 방지
  - CORS 및 보안 헤더 설정
  - 포괄적인 감사 로깅

- **📊 정보 출처 표시**: 비자 정보 신뢰성 강화
  - 정부 공식 소스 링크 제공
  - 정보 업데이트 날짜 표시
  - 정확성 면책 고지
  - 외부 링크 표시기

### 기존 주요 기능
- **👤 사용자 프로필 관리**: 여권 정보, 여행 보험, 알림 설정 관리
- **📅 캘린더 뷰**: 12개월 여행 기록을 한눈에 볼 수 있는 시각화
- **📤 CSV 가져오기/내보내기**: 대량 데이터 가져오기 및 백업 기능
- **🎯 현재 체류 상태**: 실시간 체류 국가 및 일수 표시
- **🏷️ 미래 여행 계획**: Future trip 뱃지로 예정된 여행 구분
- **⏱️ 체류 기간 표시**: 각 여행의 정확한 체류 일수 자동 계산
- **🎨 현대적인 UI/UX**: 사이드바 사용자 메뉴, 개선된 색상 체계

## 🛠 기술 스택

- **Frontend**: Next.js 15, React, TypeScript, Tailwind CSS
- **Backend**: Supabase (Database & Authentication)
- **Deployment**: Vercel (dinoapp.net)
- **State Management**: Zustand

## 🚀 로컬 개발 환경 설정

### 1. 프로젝트 클론 및 설치

```bash
git clone https://github.com/taco0513/DINO-simple.git
cd DINO-simple
npm install
```

### 2. Supabase 설정

1. [Supabase](https://supabase.com)에서 새 프로젝트 생성
2. SQL Editor에서 다음 마이그레이션 실행 (순서대로):
   - `supabase/migrations/001_create_stays_table.sql`
   - `supabase/migrations/002_create_profiles_table.sql`
   - `supabase/migrations/003_add_profile_columns.sql`
   - `supabase/migrations/004_fix_profiles_rls.sql`
   - `supabase/migrations/005_fix_profiles_complete.sql`
   - `ALTER TABLE audit_logs DISABLE ROW LEVEL SECURITY;`
3. Authentication > Settings에서:
   - Enable email confirmations (선택사항)
   - Enable social providers (Google, GitHub 등)

### 3. 환경 변수 설정

`.env.local` 파일 생성 후 다음 정보 입력:

```env
NEXT_PUBLIC_SUPABASE_URL=your_supabase_project_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key
```

### 4. 개발 서버 실행

```bash
npm run dev
```

브라우저에서 `http://localhost:3000`으로 접속

## 📁 프로젝트 구조

```
DINO-simple/
├── app/
│   ├── dashboard/        # 대시보드 페이지
│   ├── globals.css      # 글로벌 스타일
│   ├── layout.tsx       # 루트 레이아웃
│   └── page.tsx         # 홈페이지 (대시보드로 리다이렉트)
├── components/
│   ├── AddStayModal.tsx # 체류 기록 추가 모달
│   ├── CountrySelect.tsx # 검색 가능한 국가 선택 드롭다운
│   ├── EditStayModal.tsx # 체류 기록 수정 모달
│   ├── Sidebar.tsx      # 사이드바 네비게이션
│   ├── StaysList.tsx    # 체류 기록 목록
│   └── VisaCard.tsx     # 비자 상태 카드
├── lib/
│   ├── countries.ts     # 국가 데이터 (195개국)
│   ├── countries-with-visa.ts # 비자 정보 포함 국가 데이터
│   ├── supabase-store.ts # Zustand 상태 관리 (Supabase 연동)
│   ├── types.ts        # TypeScript 타입 정의
│   ├── visa-calculator.ts # 비자 계산 로직
│   └── visa-rules.ts   # 비자 규칙 데이터
└── package.json
```

## ✨ 주요 기능

- 🌍 **다중 국가 비자 추적**: 여러 국가의 비자 상태를 한눈에 확인
- 📊 **자동 계산**: 체류 일수 자동 계산 및 남은 일수 표시
- 🚨 **상태 표시**: 안전(초록), 주의(노랑), 위험(빨강) 색상 표시
- 💾 **로컬 저장**: 브라우저 localStorage를 사용한 데이터 저장
- 📱 **반응형 디자인**: 모바일과 데스크톱 모두 지원
- ✏️ **체류 기록 관리**: 추가, 수정, 삭제 기능
- 🔍 **검색 가능한 국가 선택**: 타이핑으로 국가 검색 가능
- 🎯 **특별 비자 지원**: 한국 183/365 특별 거주 비자 지원

## 🛠 기술 스택

- **Next.js 15**: React 프레임워크
- **TypeScript**: 타입 안정성
- **Tailwind CSS**: 스타일링
- **Zustand**: 상태 관리
- **date-fns**: 날짜 계산

## 📝 사용법

### 체류 기록 추가
1. **기록 추가**: "체류 기록 추가" 버튼 클릭 또는 "Add Your First Stay"
2. **국가 선택**: 드롭다운 클릭 후 국가명 타이핑으로 검색 가능
3. **날짜 입력**: 입국일과 출국일 입력 (출국일은 선택사항)
4. **비자 타입 선택**: 
   - Visa Free (무비자)
   - Tourist Visa (관광비자)
   - Business Visa (비즈니스비자)
   - E-Visa (전자비자)
   - 183/365 (한국 특별 거주 - 한국 선택시만 표시)
5. **저장**: 자동으로 비자 상태 계산 및 표시

### 체류 기록 관리
- **수정**: 체류 기록 목록에서 "수정" 버튼 클릭
- **삭제**: 체류 기록 목록에서 "삭제" 버튼 클릭 (확인 필요)

## 🎯 비자 규칙

### 비자 카드 표시 규칙
비자 카드는 다음 조건에서만 표시됩니다:
- **최근 방문**: 1년 이내 방문한 국가
- **현재 체류**: 현재 체류 중인 국가
- **최근 출국**: 리셋 타입 비자의 경우 7일 이내 출국
- **롤링 윈도우**: 기간 내 카운트되는 모든 방문

### 미국 여권 기준 주요 국가 비자 규칙:
- 🇰🇷 한국: 
  - 일반: 90일 (재입국시 리셋)
  - 특별 거주 (183/365): 365일 중 183일 (Rolling window)
- 🇯🇵 일본: 180일 중 90일 (Rolling window)
- 🇹🇭 태국: 60일 (2024년 7월부터, 재입국시 리셋)
- 🇻🇳 베트남: 90일 (E-visa 기준, 재입국시 리셋)
- 🇸🇬 싱가포르: 90일 (재입국시 리셋)
- 🇲🇾 말레이시아: 90일 (재입국시 리셋)
- 🇵🇭 필리핀: 30일 (재입국시 리셋)
- 🇮🇩 인도네시아: 30일 (재입국시 리셋)
- 🇹🇼 대만: 90일 (재입국시 리셋)
- 🇭🇰 홍콩: 90일 (재입국시 리셋)
- 🇪🇺 쉥겐: 180일 중 90일 (Rolling window)
- 🇬🇧 영국: 365일 중 180일 (Rolling window)
- 🇨🇦 캐나다: 365일 중 180일 (Rolling window)
- 🇲🇽 멕시코: 180일 (재입국시 리셋)
- 🇦🇺 호주: 90일 (재입국시 리셋)
- 🇳🇿 뉴질랜드: 90일 (재입국시 리셋)

## 📌 참고사항

- 데이터는 브라우저 localStorage에 저장됩니다
- 비자 규칙은 미국 여권 기준입니다
- 2024년 업데이트된 최신 비자 정보 반영
- 특별 비자 케이스는 개별 설정 가능

## 🔄 최근 업데이트

### 2025-08-15
- ✅ 195개 모든 국가 데이터베이스 완성
- ✅ 국가별 비자 정보 통합 (무비자, e-비자, 도착비자, ETA)
- ✅ 스마트 비자 카드 필터링 구현
- ✅ 오래된/리셋된 비자 자동 숨김 기능
- ✅ TypeScript 타입 시스템 개선
- ✅ 빌드 및 배포 안정성 향상

### 2025-08-13
- ✅ 베트남 비자 정보 업데이트 (45일 → 90일 E-visa)
- ✅ 태국 비자 정보 업데이트 (30일 → 60일, 2024년 7월부터)
- ✅ 한국 특별 거주 비자 옵션 추가 (183/365)
- ✅ 국가 리스트 알파벳 순서로 정렬
- ✅ 검색 가능한 국가 선택 드롭다운 구현
- ✅ 체류 기록 수정 및 삭제 기능 추가

## 🚀 베타 사용자 가이드

현재 DINO는 베타 버전으로 운영되고 있습니다. 베타 테스터로 참여해주셔서 감사합니다!

### 💬 피드백 제출 방법
1. **접근**: 대시보드 → 햄버거 메뉴(☰) → "Send Feedback" 클릭
2. **유형 선택**: General, Bug, Feature, UI/UX 중 선택
3. **내용 작성**: 최소 10자 이상의 피드백 작성
4. **스크린샷**: 선택사항, PNG/JPG 최대 5MB 지원
5. **제출**: 자동으로 zbrianjin@gmail.com으로 전송됩니다
   - 참고: 베타 기간 중 임시 이메일 주소입니다

### 🐛 버그 리포트 가이드
버그를 발견하셨나요? 다음 정보를 포함해주세요:
- **환경**: 브라우저 종류 및 버전, 운영체제
- **재현 단계**: 버그가 발생하는 구체적인 단계
- **예상 결과**: 어떤 결과를 기대했는지
- **실제 결과**: 실제로 어떤 일이 일어났는지
- **스크린샷**: 가능하면 오류 화면 캡처

### ✨ 기능 제안
새로운 기능이나 개선사항이 있나요?
- **목적**: 이 기능이 어떤 문제를 해결하는지
- **사용 시나리오**: 언제, 어떻게 사용될 것인지
- **우선순위**: 얼마나 중요한 기능인지

### 🎨 UI/UX 피드백
사용자 경험 개선을 위한 피드백:
- **사용성**: 어려운 부분이나 헷갈리는 부분
- **디자인**: 시각적 개선점이나 제안
- **접근성**: 장애인 접근성 관련 문제
- **모바일**: 모바일 사용 시 불편한 점

### ⚠️ 알려진 제한사항
베타 버전에서 아직 구현되지 않은 기능들:
- 다중 여권 지원 (현재 단일 여권만 지원)
- 오프라인 모드
- 데이터 내보내기 고급 옵션
- 알림 설정

### 🤝 베타 테스터 혜택
베타 테스터로서 다음과 같은 혜택이 있습니다:
- **우선 피드백**: 제안사항이 빠르게 반영됩니다
- **얼리 액세스**: 새로운 기능을 먼저 체험할 수 있습니다
- **커뮤니티**: 다른 디지털 노마드들과의 교류 기회
- **무료 사용**: 모든 기능을 무료로 이용 가능

감사합니다! 여러분의 피드백이 DINO를 더 나은 서비스로 만들어갑니다. 🙏

---

## 🚧 계획된 기능

- [🚧] 세계 지도 기반 여행 시각화 (개발 중)
- [ ] 다크 모드 지원
- [ ] 비자 만료 알림
- [ ] 데이터 내보내기/가져오기 고급 옵션
- [ ] 여행 통계 대시보드
- [ ] 다중 여권 지원
- [ ] 오프라인 모드 지원
- [ ] 알림 설정 시스템
- [ ] 타임라인 뷰 추가
- [ ] 고급 검색 기능
