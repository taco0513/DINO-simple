# 📊 대시보드 사용법

DINO의 메인 대시보드는 비자 상태 추적의 중심입니다. 모든 주요 기능에 쉽게 접근하고 여행 상태를 한눈에 파악할 수 있습니다.

## 📋 개요

대시보드는 4개의 주요 섹션으로 구성되어 있으며, 실시간으로 비자 상태를 모니터링하고 여행 기록을 관리할 수 있습니다.

### URL
- **개발**: `http://localhost:3000/dashboard`  
- **프로덕션**: `https://dinoapp.net/dashboard`

## 🎯 대시보드 구성 요소

### 1. 헤더 섹션

#### 좌측: 타이틀 및 사용자 정보
```
🌍 Dashboard    Welcome, user@example.com [로그아웃]
Track your visa status across countries
```

#### 우측: 주요 액션
```
[+ 체류 기록 추가] - 파란색 버튼
```

### 2. 오버랩 경고 (필요시 표시)
```
⚠️ 날짜 오버랩 감지
여러 나라에 동시에 체류하는 기록이 있습니다. 자동으로 해결하시겠습니까?
                                              [오버랩 해결]
```

## 📈 Overview 섹션

여행 통계를 한눈에 보여주는 4개의 카드로 구성됩니다.

### 총 여행일수 ✈️
- **표시**: 전체 누적 여행 일수
- **계산**: 모든 체류 기록의 일수 합계
- **예시**: `365일`

### 방문한 국가 🌍  
- **표시**: 방문한 고유 국가 수
- **계산**: 중복 제거된 국가 코드 개수
- **예시**: `12개국`

### 올해 여행 📅
- **표시**: 현재 연도의 여행 일수
- **계산**: 올해와 겹치는 체류 기간만 집계
- **예시**: `2025년 여행 180일`

### 현재 체류 📍
- **현재 체류 중**: 
  ```
  🇰🇷 South Korea
  15일째
  ```
- **여행 중 아님**:
  ```
  여행 중 아님
  ```

### 반응형 디자인
- **모바일**: 2x2 그리드
- **태블릿/데스크톱**: 1x4 가로 배치

## 🏳️ 비자 상태 카드

각 방문한 국가별로 상세한 비자 현황을 표시합니다.

### 카드 구성 요소

#### 헤더
```
🇰🇷 South Korea      [상태 표시]
183/365 Special        (특별 비자인 경우)
```

#### 비자 사용량 바
```
Days Used              6 / 183
[████░░░░░░░░░░░░░░░░] 3.3%
```

#### 남은 일수
```
Remaining             177 days
```

### 상태 표시 시스템

#### 보더 색상으로 상태 구분
- **회색 보더**: 안전 (Safe) - 충분한 일수 남음
- **노란색 보더**: 주의 (Warning) - 일수가 부족해짐  
- **빨간색 보더**: 위험 (Danger) - 일수 초과 임박/초과

#### 상태 판정 기준
```typescript
// 상태 계산 로직
percentage >= 90 → Danger (빨간 보더)
percentage >= 70 → Warning (노란 보더)  
percentage < 70  → Safe (회색 보더)
```

### 특별 비자 지원

#### 한국 183/365 비자
```
🇰🇷 South Korea
183/365 Special      ← 특별 표시
```
- Rolling 365일 중 183일 제한
- 자동으로 복잡한 계산 처리

## 📜 Travel History 섹션

모든 여행 기록을 시간순으로 정렬하여 표시합니다.

### 기록 카드 구성

#### 기본 정보
```
🇻🇳 Vietnam (Ho Chi Minh)   [현재 체류 중]  [수정] [삭제]
From: 🇰🇷 South Korea (ICN)
2025-07-10 ~ 현재
```

#### 완료된 여행
```
🇰🇷 South Korea (ICN)                      [수정] [삭제]  
From: 🇹🇭 Thailand (BKK)
2025-07-04 ~ 2025-07-10
```

### 정렬 순서
- **기본**: 입국일 기준 최신순 (가장 최근이 맨 위)
- **현재 체류**: 맨 위에 고정 표시

### 액션 버튼

#### 수정 버튼
- **색상**: 파란색 (`bg-blue-100 text-blue-600`)
- **기능**: 선택한 기록의 편집 모달 열기

#### 삭제 버튼  
- **색상**: 빨간색 (`bg-red-100 text-red-600`)
- **기능**: 확인 후 기록 영구 삭제

## 🔄 오버랩 해결 기능

### 자동 감지
```javascript
// 오버랩 조건
- 현재 체류 중인 기록 존재 (!exitDate)
- 다른 국가로 새 체류 시작
- 날짜가 겹치는 경우
```

### 해결 프로세스
1. **감지**: 시스템이 자동으로 오버랩 상황 인식
2. **알림**: 노란색 경고 배너 표시
3. **해결**: "오버랩 해결" 버튼 클릭
4. **처리**: 자동으로 이전 체류 종료일 설정 (Inclusive)

### Inclusive 날짜 처리
```
예시: 한국 → 베트남 이동
한국 체류: 2025-07-04 ~ 2025-07-10
베트남 체류: 2025-07-10 ~ 현재

→ 같은 날 출국/입국 허용 (Inclusive)
```

## 📱 반응형 디자인

### 모바일 (< 768px)
- **Overview**: 2x2 그리드  
- **비자 카드**: 1열 세로 배치
- **버튼**: 전체 너비
- **패딩**: 줄어든 여백 (`p-4`)

### 태블릿 (768px ~ 1024px)
- **Overview**: 2x2 그리드 유지
- **비자 카드**: 2열 배치
- **패딩**: 중간 여백 (`p-6`)

### 데스크톱 (> 1024px)
- **Overview**: 1x4 가로 배치
- **비자 카드**: 3열 배치  
- **패딩**: 최대 여백 (`p-8`)

## ⚡ 실시간 기능

### 자동 새로고침
- **데이터 로드**: 페이지 접근 시 최신 데이터 자동 로드
- **상태 동기화**: 다른 탭/기기 변경사항 자동 반영

### 즉시 업데이트
```typescript
// 기록 추가/수정/삭제 시
await addStay(newStay)     // Supabase 업데이트
await loadStays()          // 로컬 상태 새로고침
```

## 🎯 사용 시나리오

### 새로운 여행 추가
1. **"체류 기록 추가"** 버튼 클릭
2. **[체류 기록 추가 모달](../features/stay-management.md)** 열림
3. **정보 입력** 후 저장
4. **대시보드 자동 업데이트**

### 비자 상태 모니터링  
1. **비자 카드** 색상 확인
2. **남은 일수** 체크
3. **필요시 여행 계획** 조정

### 기록 수정/삭제
1. **Travel History**에서 해당 기록 찾기
2. **수정/삭제** 버튼 클릭
3. **모달**에서 작업 완료

## ⚠️ 문제 해결

### 데이터가 표시되지 않는 경우
```
🔧 해결 방법:
1. 페이지 새로고침 (F5 또는 Ctrl+R)
2. 로그아웃 후 재로그인
3. 브라우저 캐시 삭제
```

### 오버랩 해결이 안 되는 경우
```
🔄 수동 해결:
1. 해당 기록 수정 버튼 클릭
2. 출국일 직접 수정
3. 저장 후 확인
```

### 성능 문제
```
⚡ 최적화 팁:
- 불필요한 브라우저 탭 닫기
- 캐시 정리 후 재접속
- 안정적인 인터넷 환경 확보
```

## 💡 사용 팁

### 효율적인 관리
1. **정기적 확인**: 주 1회 비자 상태 점검
2. **계획적 여행**: 경고 상태 시 미리 계획 수정  
3. **즉시 기록**: 여행 직후 바로 기록 추가

### 고급 활용
1. **캘린더 연동**: [캘린더 페이지](./calendar.md)에서 시각적 확인
2. **경로 추적**: From/To 정보로 여행 패턴 분석
3. **통계 활용**: Overview 데이터로 여행 습관 파악

---

**다음 단계**: [📅 캘린더 사용법](./calendar.md)으로 시각적 여행 관리를 알아보세요.